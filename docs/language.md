# 设计语言

设计语言可以理解为设计规则，在一个规则框架下进行设计，这样可以保证设计产出的一致性，品牌对外的统一性。

本章节主要介绍设计语言中两类构成元素 **[原子](#原子)**、**[结构](#结构)** ，以及 **[属性](#属性)** 它们的外观所涉及的概念。


## 原子

原子是在结构层面不可再分的设计单元，我们所说的原子概念在具体的设计工具（如Sketch、Adobe系列软件）中与图层是等价的。

原子处在坐标系统中，具有位置属性。无位置属性的元素必不是原子。

<br>
<img src="~@assets/language/atom.gif" height=160/>
<br>
<br>

原子的类型有 **文本**、**线条**、**形状**、**图标**、**图片** 等，技术接口请参考阅读 **原子接口**。


## 结构

原子不可再分，但是可以通过组合形成各种复杂的设计内容，维护这种组合关系的元素称为 **结构** 。

结构具体的类型有 **组件** 与 **区块** 。结构也处在坐标系统中，具有位置属性。


<br>
<img src="~@assets/language/st.gif"  height=180 />
<br>



### 组件

组件（又称为控件），是一个或多个原子组成的可复用的集合。

组件内的所有原子共用一个坐标系统，该坐标系统的原点为组件位置，原子的位置最终由自身位置属性和组件位置共同决定。

>  为了实现更高效率对原子进行操作，存在一些影响位置的功能，如相对偏移功能 **间距**、批量操作工具 **编组**，这些功能是基于坐标系统实现的，不影响结构。

> 推荐：间距、[编组](#编组) 、[D2C组件转换代码方案](solution/d2c)


### 区块

区块是多个组件或区块的集合，区块内的组件和子区块（下统称子元素）按照指定 **布局** 排列展示。

区块通常包含一个指定的布局系统，布局系统包括不限于：

* **水平布局** 区块内子元素按照水平方向排列布局
* **垂直布局** 区块内子元素按照垂直方向排列布局
* **栅格布局** 区块内子元素按照栅格大小布局
* **自定义布局** 按照特定的布局方式进行布局

<img src="~@assets/language/layout.gif" height=412/>
<br>



一个完整的页面，通常由不同布局的区块构成，并存在嵌套，如上图中的自定义布局。


合理地划分区块，可以实现设计资产精确粒度的管理和布局逻辑的复用。


## 属性


> **属性** 是人类对于一个对象的抽象方面的刻画，一个具体事物，总是有许许多多的性质与关系，我们把一个事物的性质与关系，都叫作事物的属性。事物与属性是不可分的，事物都是有属性的事物，属性也都是事物的属性。

原子和结构的外观如何呈现是由他们不同的 **属性** 决定的。

<img src="~@assets/language/property.gif" height=100 />

如为上面正方形的 **描边色** 为蓝色，长方形的 **填充色** 为绿色。“描边色”、“填充色” 是 **属性类型**（或称 属性名称），“蓝色” 和 “绿色” 是 **属性值**。

> 各种原子的详细属性列表，可以参考技术标准文档 **属性API**。

### 软编码 （Soft Coding）

常规设计中，是直接通过RGB编码或HEX编码来指代蓝色的属性值，具体的指代值是确定的，这种形式称为 **硬编码（hard coding）**。

使用硬编码存在一定局限性，比如在设计环节实时预览的只有一个场景，默认是日间模式 + px长度单位，如果场景变化为夜间模式 + dp长度单位，原先原子、结构的相关属性就需要调整。

为了支持一次设计多场景可用，我们通过 **软编码** 形式指代属性在不同场景对应不同的值：

<img src="~@assets/language/identifier.gif" width=520 />

<br>

在本系统中后续将软编码简称为 **编码**。

> 设计师使用编码时，受 [**编码规范**](assets.html#编码规范) 的约束，编码规范是按照业务授权的编码集合。

## 其他

以下介绍一些设计过程中可能接触的概念，但并非设计语言的构成元素。

### 编组

在设计工具中，存在 **编组** ，**编组** 不会改变原子的坐标系统和原点，只是一种批量管理原子的集合，编组的增加和减少不影响结构。

<br>
<img src="~@assets/language/c-a-relation.jpg" width=546 height=330/>
<br>
<br>

本系统对是否使用编组不作建议和要求。

### 映射

组件设计阶段，内部原子的属性都指代了编码，设计完成后组件作为设计资产保存至云端。

业务、产品设计时可以复用之前保存的组件，但针对不同场景，组件的样式有区别，需要修改部分属性指代的编码以调整外观，然后将这个新的结果作为设计资产再次保存至云端。

完成这一系列操作后，云端同个组件的原子属性可能指代几种值，为了更清楚地描述场景、属性、编码之间的关系，引入了 **[属性映射](solution/property-mapping)** 的解决方案来明确这种动态关系。 

属性映射是在设计、交付过程中自然建立的，融入在工作流中，设计师不需要额外投入成本。
